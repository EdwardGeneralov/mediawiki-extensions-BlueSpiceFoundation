## BlueSpice Core / BlueSpice for MediaWiki
## Copyright 2012 by Hallo Welt! Medienwerkstatt GmbH
## http://www.blue-spice.org
## http://www.hallowelt.biz

= BlueSpice release history =

== BlueSpice Core 1.1.1 / BlueSpice for MediaWiki 1.1.1 ==
Date: 2012-04-05
This is a patch release (rev 4743).

=== Changes since BlueSpice Core 1.1 / BlueSpice for MediaWiki 1.1 ===
=== BlueSpice Framework ===
* InstallCheck: Check for "display_errors" to avoid problems within AJAX responses
* Setup: Added hint about "AllowOverride"
* BsMailer: Fixed line breaks in HTML mails
* BsI18N: Fixed minor bugs
* BsAdapterMW: Fixed relative path of user image
* BsStringHelper: Made shortening multibyte safe

=== BlueSpice Extensions ===
* UniversalExport / UEModulePDF: Fixed bug with special chars in filenames
* InsertCategory: Fixed tree hierarchy
* InsertCategory: Added option to allow "parent categories" to be added
* InsertFile: Format of imagelinks now depends on content language
* InsertFile: Fixed "two ok buttons" bug
* WantedArticle: Fixed bug in english localisation file
* VisualEditor: Improved paste from word: all spans and styles are removed on paste
* UserManager: Fixed cache issues
* ExtendedSearch: Improved fuzzy search

=== Database related ===
* Oracle / PostgreSQL: Fixed bugs in update.php
* Oracle: Fixed Bug in InsertCategory
* Oracle: Fixed paging in InsertFile
* Oracle: Fixed upload in InsertFile


== BlueSpice Core 1.1 / BlueSpice for MediaWiki 1.1 ==
Date: 2012-03-14
This is a minor release. 

=== Features ===
* Improved performance
* New databaes supported: PostgreSQL and Oracle
* Improved cache control (localisation cache, initial memcache support)
* UniversalExport: New templating system for PDFs
* Categories can be assigned in view mode
* RSS-Feeds: Outlook support improved
* ArticleInfo: information about subpages
* ShoutBox: changes on the user interface
* VisualEditor: new TinyMCE version
* New extensions: CountThings, HideTitle, NamespaceCSS, CSyntaxHighlight
* ExtendedSearch: Updated to Solr3.5 to allow left wildcards
* InsertImage: Improved uploader. Images can be linked.

=== Bugfixes ===
* A lot of bugs fixed

== Changes since BlueSpice Core 1.0 / BlueSpice for MediaWiki 1.0 ==
=== BlueSpice Framework ===
Config: Fixed bug where setting would be serialized in wrong data type
Config: Fixed bug where user settings would have no effect under certain circumstances
Config: Removed table user_settings. Renamed table settings to bs_settings.
Core: Deactivated output sanitizing
Core: Fixed bug in script block registration
Core: Removed BsLogger since it is not used anymore
Core: Removed ErrorMsg and ViewElement since they are not used anymore
Core: Removed ViewManager since it is not used anymore
Database: Added Oracle database support
Database: Added Postgres database support
ExtendedSearch: Added hook BS:ExtendedSearch:AddDocumentLog
ExtendedSearch: Added support for Solr 3.5. This is used as a default setting.
ExtendedSearch: Single word wildcard for Solr 3.5 is now *Word*
ExtJS: Fixed 404 error for blank image
Installcheck: Added error_log check.
Installcheck: Bail out if not in $IP.
Installcheck: Check for common dir in bluespice-skin.
Installcheck: Check for mysqli
Installcheck: New version including diagnostics (mail server and Tomcat services).
Installcheck: Now detects Solr version and compares it to configured version.
Mailer: Using MediaWiki UserMailer to overcome problems with lineendings
PDFTemplates: Added BlueSpice template
PDFTemplates: Added default draft template
PDFTemplates: New unified Templates for UE and Bookshelf
PDFTemplates: updated styles and correct meta data
PDFTemplates: updated styles and images (96dpi)
Performance: Added api mode (BsACTION::LOAD_ON_API)
Performance: Added simplified localisation store LCStore_BSDB
Performance: Added special page mode (BsACTION::LOAD_SPECIALPAGE)
Performance: Do not attempt to load usersettings when user is not logged in
Performance: Improved I18n loader
Performance: Re-enabled RSS caching & provided cache directory.
Performance: Removed file_exists check in class loader
Setup: Added support for OracleDB
Setup: Applied patch by Johannes Weberhofer. This adds the possibility to install bluespice on a symlinked directory-structure, too.
Setup: update.php is now executed at end of BlueSpice setup
Skin: Added additional footer infos
Skin: Added Hook in ApplicationList
Skin: Added hooks for tabs
Skin: Added MediaWiki standard conform 'div#mw-js-message'
Skin: Added returnTo param to UserLogin link
Skin: Added support for InterWiki-Links and changes Widget CSS in left Navigation
Skin: Added support for standard MediaWiki-Hook "SkinAfterContent"
Skin: Fixed bug in title (& is no longer displayed as &amp;)
Skin: Removed headscripts from bottom
Skin: Removed some legacy CSS
Skin: Replaced hardcoded links with MW functions (UserLogin/Logout)
Skin: Widgetbar will not be displayed when user cannot read
UniversalExport: Added experimental virtual path (apache setting) dection in file finder method
UniversalExport: Added XMLNS "bs" to TagFinder 
UniversalExport: Fixed bug in thumbnail filepath detection
UniversalExport: Fixed UTF 8 issue
UniversalExport: UEModulePDF now supports attachments

=== BlueSpice Extensions ===
Adapter: Added ability to user URL as UserImage
Adapter: Added abstraction getNamespacesForSelectOptions to BsAdapterMW
Adapter: Added database updater for core tables
Adapter: Added new setting MW::MiniProfileEnforceHeight)
Adapter: Fixed "Lost spaces" bug. (After inline tags spaces got lost, because xml formating of the markup would remove them)
Adapter: Fixed bug where a user had more than one right and then did not get the rights of his groups
Adapter: Fixed bug, where $wgContLang->namespaceAliases was not yet initialized.
Adapter: Fixed but in getNamespaceNamesAndAliases
Adapter: Fixed some API Call issues.
Adapter: Fixed userCan Hook issue with AJAX/API Calls. 
Adapter: HTMLCheckField now have labels on the right side.
Adapter: Improved handling of url based user images
Adapter: Initial refactoring for MW 1.18
Adapter: load user prefs in all contexts in order to get proper user settings unserialization
Adapter: now loads extension-settings according to database type
Adapter: Removed ImageExtensions from FileExtensions default value.
Adapter: Removed title=lable check, because it fails on a link like [[ABC:My Article|My Article]]
Adapter: Removed unused file mw-settings.php
Adapter: Simple caching for MiniProfiles
ArticleInfo: Added label to subpages icon
ArticleInfo: Implemented "subpages"
ArticleInfo: Link on lastEdited now points to last diff.
Blog: Changed sorting mechanism
Blog: Fixed "multiple entries" bug
Blog: Fixed article time
Bookshelf: Activated redirect following in Bookshelf. 
Bookshelf: Fixed issues with numberations in PdfExport and Bookshelf
CountThings: New extension
CSyntaxHighlight: New extension
Emoticons: Added support for Memcached Server
Emoticons: Mapping source article now is added with update.php
Emoticons: Removed configuration setting for mapping source article
ExtendedEditBar: removed blockquote, since it doesn't survive a wysiwyg roundtrip
ExtendedSearch: Added icon to BSExtendedSearchFormatLink hook
ExtendedSearch: Added new create link
ExtendedSearch: Added on the fly indexing of files
ExtendedSearch: Added option to configure which Solr version is in use.
ExtendedSearch: Added option to overwrite index
ExtendedSearch: Build index now deletes the old index
ExtendedSearch: Delete index is now done via AJAX and has a own function
ExtendedSearch: Fixed bug where search would fail when using braces
ExtendedSearch: Fixed bug where searchstring was modified when displayed in result view.
ExtendedSearch: Fixed bug where user settings would not be considered correctly
ExtendedSearch: Fixed MediaWiki "Unknown title" error if no mod_rewrite
ExtendedSearch: Make ExtendedSearch use SecureFileStore when filtering results via Ajax call. Tnx to Robert.
ExtendedSearch: Removed duplicate settings in WikiAdmin
General: Added HideTitle and CountThings
General: Added MediaWiki extension RSS-Topdate
General: Added MediaWiki extensions Gadgets and ConfirmEdit
General: Added profiling info
General: Fixed several PHP strict standard bugs
General: Fixed various i18n mistakes
GroupManager: Fixed bug in space handling: Spaces in front and after group name are removed now and not counted as chars
GroupManager: Fixed bug where group name could be longer than 16 characters
GroupManager: Fixed critical error where the wiki crashed when a group name contains a "'"
HideTitle: New extension
InfoBox: Added auto first-uppercase in category
InfoBox: Added new hooks
InfoBox: Added tag <bs:newbies /> to display new users.
InfoBox: Changed default value of max title length to now 20
InfoBox: Removed default min-date "now". 
InsertCategory: Categories can now be added in view mode
InsertFile: Fixed bug in paging
InsertFile: Fixed bug where an existing image link would not be recognized
InsertFile: Image can now be linked
InsertFile: New BsUploader which uses MediaWiki-API for uploads
InterWikiLinks: Fixed input validation: now prefix can not contain &, :, =, space
MailChanges: Added notification for new users
MailChanges: Added Shoutbox notification
MailChanges: Disabled notification on own actions
MailChanges: Fixed bug where links would not be displayed correctly in Outlook
NamespaceCss: New extension
NamespaceManager: Fixed bug. namespace name must contain min 2 chars
PageTemplates: added override parameter pt=no
PageTemplates: noinclude sections are now deleted on page preload
PageTemplates: Restored section edit link
PageTemplates: Now a permission error appears if you are not allowed to create a new page
Performance: New localisation cache in shared memory: LCStore_SHM
PermissionManager: Fixed bug that every user can delete protected articles. Now it is MediaWiki behaviour only a sysop can delete every protected article
PermissionManager: Webkit Browser Hack for cell-height
ResponsibleEditors: Fixed bug when deleting a single editor on specialpage
ResponsibleEditors: Removed default usergroup for "takeresponsibility" right
ResponsibleEditors: Using multi assignment mechanism
Review: Fixed bug when resettings a workflow
Review: Fixed bug where review was sorted by username and not by sort id
Review: Reviewed article is now added to watchlist of initiator of the review
RSSFeeder: Fixed bug for categories with '
RSSFeeder: Fixed RSS for pages with namespace
RSSFeeder: Fixed UserHash authentication
RSSFeeder: Wikitext is now being parsed
SaferEdit: Disabled SaferEdit by default
SaferEdit: Fixed bug where recovery texts were not removed on save
SaferEdit: Fixed bug where "someone editing" would not be displayed when recovery info was available
SecureFileStore: Fixed bug where parameters with ? would break image display
SecureFileStore: Fixed crude encoding kludge between VisualEditor and SecureFileStore.
ShoutBox: Added Hook 'BSShoutBoxAfterInsertShout'
ShoutBox: Completely reworked layout
ShoutBox: Fixed nl2br bug for PHP < 5.3
ShoutBox: Fixed timestamp bug
StateBar: Added MediwWiki Hooks
StateBar: Changed sort order in body
StateBar: Fixed bug where StateBar was not shown when user can only read
TopMenuBarCustomizer: New extension
UEModulePDF: 'follow-redirects' is now default true
UEModulePDF: Added hook "BSUniversalExportSpecialPageExecute"
UEModulePDF: Changed default value of BN2PDF url
UEModulePDF: Changed way of TOC processing
UEModulePDF: Fixed first-page-empty bug
UEModulePDF: Fixed inverse tables bug
UEModulePDF: Implemented paginatable tables
UEModulePDF: Now supports attachments
UEModulePDF: Removed Namespace Black-/Whitelist as we now have "enabled Namespaces"
UEModulePDF: Support for Metatags
UEModulePDF: Using articles displaytitle in bookmark element
UniversalExport: Fixed ancient tidy bug where extra linebreaks were added to pre tags
UserManager: Fixed bug where list would only be sorted in current view
UserPreferences: Fixed bug where settings would be loaded several times
UserPreferences: Performance improvements in settings loader
VisualEditor: &nbsp; will now be preserved
VisualEditor: adapt context menu to bluespice
VisualEditor: Added spellchecker support
VisualEditor: Added support for missing first row marker in table
VisualEditor: Added support for nested tables
VisualEditor: allow for entities in succession
VisualEditor: cleanup linebreaks in tags except for comments
VisualEditor: Fixed bug where editor deletes content after table and before lists
VisualEditor: fixed critical error where linebreaks would be removed between tags
VisualEditor: Make sure only <a>-tag is selected
VisualEditor: pres now work with classes
VisualEditor: preserve brs in tables
VisualEditor: preserve strike and pres with content that begins with a spaced first line
VisualEditor: Restored umlaut support in images
VisualEditor: Updated to TinyMCE 3.4.9
WantedArticle: Fixed encoding problem with unicode chars
WatchList: Changed default value of max title length to 20
WhoIsOnline: Added INDEXES to DB Table
WhoIsOnline: Fixed "too much users online"-bug
WidgetBar: Fixed visibility bug now the widgetbar is displayed on all pages if you can read